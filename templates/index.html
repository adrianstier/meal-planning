<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Meal Planner</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üçΩÔ∏è Family Meal Planner</h1>
            <p class="subtitle">Plan meals for your family with AI-powered recipe parsing</p>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" data-tab="randomizer">Meal Randomizer</button>
            <button class="tab-btn" data-tab="add-recipe">Add Recipe</button>
            <button class="tab-btn" data-tab="browse">Browse Meals</button>
            <button class="tab-btn" data-tab="history">Favorites & History</button>
            <button class="tab-btn" data-tab="shopping">Shopping List</button>
        </nav>

        <!-- MEAL RANDOMIZER TAB -->
        <div id="randomizer" class="tab-content active">
            <section class="card">
                <h2>Generate Weekly Meal Plan</h2>

                <div class="form-group">
                    <label>Dietary Preference</label>
                    <select id="dietary-pref">
                        <option value="all">All Foods</option>
                        <option value="pescatarian">Pescatarian (Fish OK, No Meat)</option>
                        <option value="vegetarian">Vegetarian</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Time Constraint</label>
                    <select id="time-constraint">
                        <option value="all">Any Duration</option>
                        <option value="quick">Quick (30 min or less)</option>
                        <option value="weekend">Weekend Meals (More time)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Kid-Friendly Level (Minimum)</label>
                    <input type="range" id="kid-friendly" min="1" max="10" value="5" step="1">
                    <span id="kid-friendly-val">5</span> / 10
                </div>

                <div class="form-group">
                    <label>Number of Days</label>
                    <input type="number" id="num-days" min="1" max="14" value="7">
                </div>

                <div class="form-group">
                    <label>Start Date</label>
                    <input type="date" id="start-date">
                </div>

                <button id="randomize-btn" class="btn btn-primary">üé≤ Generate Meal Plan</button>
            </section>

            <section id="meal-plan-results" class="card" style="display: none;">
                <h2>Your Weekly Meal Plan</h2>
                <div id="meal-plan-content"></div>
                <button id="regenerate-btn" class="btn btn-secondary">üîÑ Regenerate</button>
            </section>
        </div>

        <!-- ADD RECIPE TAB -->
        <div id="add-recipe" class="tab-content">
            <section class="card">
                <h2>Add New Recipe</h2>
                <p>Paste a recipe URL or text, and our AI will automatically parse the ingredients and details!</p>

                <div class="form-group">
                    <label>Recipe URL (optional)</label>
                    <input type="url" id="recipe-url" placeholder="https://example.com/recipe">
                </div>

                <div class="form-group">
                    <label>Recipe Text</label>
                    <textarea id="recipe-text" rows="12" placeholder="Paste your recipe here...

Example:
Chicken Tacos

Ingredients:
- 1 lb chicken breast
- 8 taco shells
- Lettuce, cheese, tomatoes

Instructions:
1. Cook chicken...
"></textarea>
                </div>

                <button id="parse-recipe-btn" class="btn btn-primary">ü§ñ Parse with AI</button>
                <div id="ai-status" class="status-msg"></div>
            </section>

            <section id="parsed-recipe" class="card" style="display: none;">
                <h2>Review Parsed Recipe</h2>
                <div id="parsed-content"></div>
                <button id="save-recipe-btn" class="btn btn-primary">üíæ Save to Database</button>
                <button id="edit-recipe-btn" class="btn btn-secondary">‚úèÔ∏è Edit Manually</button>
            </section>

            <section id="manual-entry" class="card" style="display: none;">
                <h2>Manual Entry</h2>
                <form id="manual-recipe-form">
                    <div class="form-group">
                        <label>Meal Name *</label>
                        <input type="text" id="meal-name" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Meal Type *</label>
                            <select id="meal-type" required>
                                <option value="dinner">Dinner</option>
                                <option value="lunch">Lunch</option>
                                <option value="snack">Snack</option>
                                <option value="breakfast">Breakfast</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Kid-Friendly (1-10)</label>
                            <input type="number" id="kid-level" min="1" max="10" value="5">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Prep Time (min)</label>
                            <input type="number" id="prep-time" min="0" value="15">
                        </div>

                        <div class="form-group">
                            <label>Cook Time (min)</label>
                            <input type="number" id="cook-time" min="0" value="30">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="adult-friendly" checked>
                            Adult-Friendly
                        </label>
                    </div>

                    <div class="form-group">
                        <label>Notes</label>
                        <textarea id="notes" rows="3"></textarea>
                    </div>

                    <h3>Ingredients</h3>
                    <div id="ingredients-list"></div>
                    <button type="button" id="add-ingredient-btn" class="btn btn-secondary">+ Add Ingredient</button>

                    <div style="margin-top: 20px;">
                        <button type="submit" class="btn btn-primary">üíæ Save Meal</button>
                    </div>
                </form>
            </section>
        </div>

        <!-- BROWSE MEALS TAB -->
        <div id="browse" class="tab-content">
            <section class="card">
                <h2>Browse Meals</h2>

                <div class="form-row">
                    <div class="form-group">
                        <input type="text" id="search-query" placeholder="Search meals...">
                    </div>
                    <div class="form-group">
                        <select id="filter-type">
                            <option value="">All Types</option>
                            <option value="dinner">Dinner</option>
                            <option value="lunch">Lunch</option>
                            <option value="snack">Snack</option>
                            <option value="breakfast">Breakfast</option>
                        </select>
                    </div>
                    <button id="search-btn" class="btn btn-primary">Search</button>
                </div>

                <div id="browse-results" class="meals-grid"></div>
            </section>
        </div>

        <!-- FAVORITES & HISTORY TAB -->
        <div id="history" class="tab-content">
            <!-- Favorites Section -->
            <section class="card">
                <h2>‚≠ê Favorite Meals</h2>
                <p>Your starred meals for quick access</p>
                <div id="favorites-content">
                    <p class="status-msg info">Loading favorites...</p>
                </div>
            </section>

            <!-- Recently Cooked Section -->
            <section class="card">
                <h2>üïê Recently Cooked</h2>
                <p>Meals you've made recently to avoid repetition</p>
                <div id="recently-cooked-content">
                    <p class="status-msg info">Loading recent meals...</p>
                </div>
            </section>

            <!-- Haven't Made in a While Section -->
            <section class="card">
                <h2>üí° Try These!</h2>
                <p>Meals you haven't made in over 30 days</p>
                <div id="havent-made-content">
                    <p class="status-msg info">Loading suggestions...</p>
                </div>
            </section>

            <!-- Cooking History -->
            <section class="card">
                <h2>üìú Cooking History</h2>
                <p>Your complete cooking log</p>
                <div id="history-content">
                    <p class="status-msg info">Loading history...</p>
                </div>
            </section>
        </div>

        <!-- SHOPPING LIST TAB -->
        <div id="shopping" class="tab-content">
            <section class="card">
                <h2>Shopping List</h2>
                <p>Generate a shopping list from your current meal plan</p>
                <button id="generate-shopping-btn" class="btn btn-primary">üõí Generate Shopping List</button>
                <div id="shopping-list-content"></div>
            </section>
        </div>
    </div>

    <footer>
        <p>Made with ‚ù§Ô∏è for family meal planning</p>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
